
@{
    ViewData["Title"] = "Profile";
}


@if (User.Identity.IsAuthenticated)
{
    @if (User.Identity.IsAuthenticated)
    {

        <p>Hello, @User.Identity.Name</p>

        <form method="post" asp-controller="Account" asp-action="Logout">
            <input type="submit" value="Logout" />
        </form>

        @if (User.IsInRole("Admin"))
        {
            <form method="post" asp-controller="Admin" asp-action="Index">
                <input type="submit" value="Administrator" />
            </form>
        }


        <a asp-controller="Company" asp-action="CreateCompany">Create</a>

        <table class="table">
            <tr><th>Name</th><th>Creater</th><th>About</th><th>Begin</th><th>End</th><th>Need</th><th>Found</th><th></th></tr>
            @foreach (var company in Model)
            {
                <tr>
                    <td>@company.companyName</td>
                    <td>@company.creater</td>
                    <td>@company.about</td>
                    <td>@company.startDate</td>
                    <td>@company.endDate</td>
                    <td>@company.needDonate</td>
                    <td>@company.totaldonate</td>
                    <td><a asp-controller="Company" asp-action="editCompany">Edit</a></td>

                </tr>
            }
        </table>
    }
    else
    {

    }
}
